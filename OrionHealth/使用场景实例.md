## 通过调用 webservice 来执行数据库查询操作,webservice接受参数id去员工表中查找员工信息 ##

### 1.	建立一个Web service ###

View -> Web Services

![](https://github.com/chzhoudy/blog/blob/master/OrionHealth/Img/1-1.png)

点击Add ,在General 中配置 服务名字，端口，命名空间等基本信息
![](https://github.com/chzhoudy/blog/blob/master/OrionHealth/Img/1-2.png)

在operations中 增加add operation
![](https://github.com/chzhoudy/blog/blob/master/OrionHealth/Img/1-3.png)
 
Add Operation填写基本信息，并选择 
 
此场景带有参数，所以在input中选择use custom type 自定义参数
 




### 2.	建立Web Service Hosting ###

Web服务在接受到用户查询请求后，要输出结果，所以Connection 选择In -> Out 方式
 

在Configuration 添加 步骤一中新增的webservice operation
 
### 3.	建立Route  ###

将步骤二中建立的放置到 Input 和Output 中，并在Filters层放入一个Database Message Extraction line them

 

双击Database Message Extraction 进行配置，并将xsd文件添加进去，方便写SQL语句的时候进行关联,（XSD文件生成方式请见附录）
 


点击上图红圈部分，进行SQL配置
 
从左边拖到右边，双击打开
先点击右侧栏的Server Explorer选择表，再在红框内选择生成SELECT INSERT UPDATE语句
 



紫红色的employee_id，置换成xsd 中的Xpath 
 

配置完毕，可以通过SOAPUI 进行测试
 

